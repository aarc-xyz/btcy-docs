---
title: "BTCY Vault Contract"
sidebarTitle: "BTCY Vault"
description: "Technical reference for the BTCY ERC-4626 vault."
---

## Overview

BTCY is an ERC-4626 tokenized vault that wraps iBTCY tokens.

---

## Contract Details

| Property | Value |
|----------|-------|
| **Standard** | ERC-4626 |
| **Underlying** | iBTCY |
| **Exchange Rate** | 1:1 |
| **Upgradeable** | Yes (UUPS) |

---

## Core Functions

### Deposit (Wrap)

```solidity
function deposit(uint256 assets, address receiver) external returns (uint256 shares);
```

Wraps iBTCY into BTCY. Returns shares (always equal to assets for 1:1).

### Withdraw (Unwrap)

```solidity
function withdraw(uint256 assets, address receiver, address owner) external returns (uint256 shares);
```

Unwraps BTCY back to iBTCY. Receiver must be allowlisted.

### Redeem

```solidity
function redeem(uint256 shares, address receiver, address owner) external returns (uint256 assets);
```

Alternative to withdraw, specifying shares instead of assets.

---

## View Functions

```solidity
function totalAssets() external view returns (uint256);
function convertToShares(uint256 assets) external view returns (uint256);
function convertToAssets(uint256 shares) external view returns (uint256);
function previewDeposit(uint256 assets) external view returns (uint256);
function previewWithdraw(uint256 assets) external view returns (uint256);
```

All return 1:1 values since exchange rate is fixed.

---

## Events

```solidity
event Deposit(address indexed sender, address indexed owner, uint256 assets, uint256 shares);
event Withdraw(address indexed sender, address indexed receiver, address indexed owner, uint256 assets, uint256 shares);
```

---

## Restrictions

| Operation | Restriction |
|-----------|-------------|
| Deposit | Sender must be able to transfer iBTCY |
| Withdraw | Receiver must be on iBTCY allowlist |

---

## Integration Example

```solidity
// Wrap iBTCY to BTCY
ibtcy.approve(address(btcyVault), amount);
btcyVault.deposit(amount, msg.sender);

// Unwrap BTCY to iBTCY
btcyVault.withdraw(amount, msg.sender, msg.sender);
```

---

<Card title="Integration Guide" icon="puzzle-piece" href="/developers/integration/defi-protocols">
  How to integrate BTCY
</Card>
