---
title: "iBTCYHub Contract"
sidebarTitle: "iBTCYHub"
description: "Technical reference for the iBTCYHub contract."
---

## Overview

iBTCYHub manages the mint and redeem lifecycle for iBTCY tokens.

---

## Contract Details

| Property | Value |
|----------|-------|
| **Pattern** | Request-Process (async) |
| **Upgradeable** | Yes (UUPS) |
| **Pausable** | Yes |
| **Access Control** | Role-based |

---

## Mint Flow

### 1. Request Mint

```solidity
function requestMint(
    address recipient,
    uint256 btcAmount,
    bytes32 btcTxHash
) external returns (uint256 requestId);
```

Creates a pending mint request. Requires `REQUESTER_ROLE`.

### 2. Process Mint

```solidity
function processMint(uint256 requestId) external;
```

Completes the mint after off-chain verification. Requires `PROCESSOR_ROLE`.

---

## Redeem Flow

### 1. Request Redeem

```solidity
function requestRedeem(
    uint256 ibtcyAmount,
    string calldata btcAddress
) external returns (uint256 requestId);
```

Creates a pending redeem request.

### 2. Process Redeem

```solidity
function processRedeem(uint256 requestId) external;
```

Completes the redeem after BTC transfer. Requires `PROCESSOR_ROLE`.

---

## Request States

```solidity
enum RequestStatus {
    Pending,
    Processed,
    Cancelled,
    Expired
}
```

---

## Events

```solidity
event MintRequested(uint256 indexed requestId, address indexed recipient, uint256 btcAmount);
event MintProcessed(uint256 indexed requestId, uint256 ibtcyAmount);
event RedeemRequested(uint256 indexed requestId, address indexed sender, uint256 ibtcyAmount);
event RedeemProcessed(uint256 indexed requestId, uint256 btcAmount);
event RequestCancelled(uint256 indexed requestId);
```

---

## Configuration

| Parameter | Description |
|-----------|-------------|
| `minMintAmount` | Minimum BTC for mint request |
| `minRedeemAmount` | Minimum iBTCY for redeem request |
| `requestExpiry` | Time before pending request expires |

---

<Card title="See Pricing" icon="chart-line" href="/developers/architecture/oracle-pricing">
  How NAV pricing works
</Card>
